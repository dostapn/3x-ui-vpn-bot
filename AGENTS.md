# –ü–†–ê–í–ò–õ–ê –î–õ–Ø –ê–ì–ï–ù–¢–û–í (AGENTS.md)

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—Å–µ—Ö AI-–∞–≥–µ–Ω—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º.

## üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

### 1. –õ–∏–Ω—Ç–µ—Ä –∏ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ü–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `.py` —Ñ–∞–π–ª–∞—Ö –∑–∞–ø—É—Å–∫–∞—Ç—å `read_lints`.
- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å PEP 8.
- –ò–∑–±–µ–≥–∞—Ç—å `trailing whitespace` (–ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫).
- –°–æ–±–ª—é–¥–∞—Ç—å —á–∏—Å—Ç–æ—Ç—É –∏–º–ø–æ—Ä—Ç–æ–≤ (—É–¥–∞–ª—è—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ).

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **README.md**: –û–±–Ω–æ–≤–ª—è—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
- **CHANGELOG.md**: –î–æ–±–∞–≤–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ –æ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (—Ñ–æ—Ä–º–∞—Ç Keep a Changelog).
- **BOT_SCENARIOS.md**: –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ**:
  - –í—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–∏—Å–∞—Ç—å –Ω–∞ **—Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**.
  - Docstrings (—Å—Ç—Ä–æ–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.
  - –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—É—é –ª–æ–≥–∏–∫—É, "–ø–æ—á–µ–º—É —Å–¥–µ–ª–∞–Ω–æ —Ç–∞–∫", –∞ –Ω–µ "—á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥".

### 3. –ß–∏—Å—Ç—ã–π –∫–æ–¥ (Clean Code)
- **SOLID**: –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID.
- **DRY**: –ù–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥. –í—ã–Ω–æ—Å–∏—Ç—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ —É—Ç–∏–ª–∏—Ç—ã.
- **Type Hints**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ (`typing`) –¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –¢–µ—Å—Ç—ã **–ù–ò–ö–û–ì–î–ê** –Ω–µ –¥–æ–ª–∂–Ω—ã –º–µ–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (`x-ui.db`). –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ø–∏—é –ë–î –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `x-ui-test.db`) –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–π.
- **–°–ø–µ–∫–∏**: –°–∫—Ä–∏–ø—Ç—ã –≤ `tests/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tests/verify_traffic_flow.py`) –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–æ—Ç–æ–∫–∏. –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–ø–µ–∫–∏.
- **–ì–ª—É–±–æ–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ —è–≤–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É.
- **–û—á–∏—Å—Ç–∫–∞**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (–ë–î, –ª–æ–≥–∏) –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫.

## üê≥ Docker –∏ –û–∫—Ä—É–∂–µ–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `docker-compose up -d --build` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- –ù–µ –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ Docker, –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ë–î) –∂–µ—Å—Ç–∫–æ –∑–∞–≤—è–∑–∞–Ω—ã –Ω–∞ –ø—É—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- –ö–æ–º–∞–Ω–¥—ã —Å–ª–µ–¥—É–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (zsh login session), —á—Ç–æ–±—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—É—Ç—è–º –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º.

### Production (Standalone)
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ volume.
- –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ stdout/stderr.

## üîÑ Workflow —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

1. **–ê–Ω–∞–ª–∏–∑**: –ü–æ–Ω—è—Ç—å –∑–∞–¥–∞—á—É, –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.
2. **–ü–ª–∞–Ω**: –°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Å–ª–æ–∂–Ω–∞—è).
3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥.
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
   - –ü–µ—Ä–µ–¥ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ—Ä—Å–∏—è –≤ `bot/config.py` –∏ `CHANGELOG.md` –æ—Ç—Ä–∞–∂–∞–µ—Ç –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑.
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä (`read_lints`).
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–ø–µ–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏/–ë–î.
   - –í —Å–ª—É—á–∞–µ –ø—Ä–æ—Å—å–±—ã –æ –∫–æ–º–º–∏—Ç–µ ‚Äî –Ω–∞–∑—ã–≤–∞—Ç—å –µ–≥–æ –ø–æ –ø—Ä–∏–Ω—è—Ç–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É: "–≤–µ—Ä—Å–∏—è + —Ç–∏–ø –∑–∞–¥–∞—á–∏ + –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ".
5. **–ö–æ–º–º–∏—Ç** (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç: `–∫–æ–º–º–∏—Ç [%–≤–µ—Ä—Å–∏—è%] %—Ç–∏–ø% %–∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ%`.
   - –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Ç–∫–∏–º (< 30 —Å–ª–æ–≤).
   - –¢–∏–ø—ã: .
6. **–û—Ç—á–µ—Ç**: –ö—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞—Ç—å —Å–¥–µ–ª–∞–Ω–Ω–æ–µ.
